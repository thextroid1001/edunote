<section class="content-header">
	<h1>Gestion Estudiantes</h1>
	<ol class="breadcrumb">
		<li><a><i class="fa fa-dashboard"></i> Inicio</a></li>
		<li class="active">estudiante</li>
	</ol>
</section>
<!-- Main content -->
<section class="content">
	<div class="row">
		<div class="col-md-12">
			<div class="box box-warning box-solid">
				<div class="box-header with-border">
					<h3 class="box-title">Estudiantes</h3>
					<div class="box-tools pull-right">
						<button class="btn btn-box-tool" data-toggle="collapse"	data-target="#contentUsuarios">
							<span class="fa fa-caret-down"></span>
						</button>
					</div>
					<!-- /.box-tools -->
				</div>
				<!-- /.box-header -->
				<div class="box-body collapse in" id="contentUsuarios">
					<div class="">
						<!-- Default panel contents -->
						<div class="panel-body">
							<div class="formcontainer">
								<div class="alert alert-success" role="alert" ng-if="ctrl.successMessage">{{ctrl.successMessage}}</div>
								<div class="alert alert-danger" role="alert" ng-if="ctrl.errorMessage">{{ctrl.errorMessage}}</div>
								<form ng-submit="ctrl.submit()" name="myForm" class="form-horizontal sin-mg-form-group" enctype='multipart/form-data'>
									<input type="hidden" ng-model="ctrl.user.id" />
									<div class="row">
										<div class="form-group col-md-12">
											<label class="col-md-2 control-lable" for="rude">RUDE</label>
											<div class="col-md-7">
												<input type="text" ng-model="ctrl.user.rude" id="rude" class="username form-control input-sm"
													 required="required" ng-pattern="ctrl.onlyNumbers" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="form-group col-md-12">
											<label class="col-md-2 control-lable" for="ci">Ci</label>
											<div class="col-md-7">
												<input type="text" ng-model="ctrl.user.ci" id="ci"
													class="username form-control input-sm"	required="required" ng-pattern="ctrl.DNI" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="form-group col-md-12">
											<label class="col-md-2 control-lable" for="name">Nombre</label>
											<div class="col-md-7">
												<input type="text" ng-model="ctrl.user.nombre" id="name"
													class="username form-control input-sm" required="required" ng-minlength="3" />
											</div>
										</div>
									</div>

									<div class="row">
										<div class="form-group col-md-12">
											<label class="col-md-2 control-lable" for="ap">Ap</label>
											<div class="col-md-7">
												<input type="text" ng-model="ctrl.user.ap" id="ap"
													class="form-control input-sm" required="required" ng-minlength="3" />
											</div>
										</div>
									</div>

									<div class="row">
										<div class="form-group col-md-12">
											<label class="col-md-2 control-lable" for="am">Am</label>
											<div class="col-md-7">
												<input type="text" ng-model="ctrl.user.am" id="am"
													class="form-control input-sm" required="required" ng-minlength="3" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="form-group col-md-12">
											<label class="col-md-2 control-lable" for="fono">Telefono</label>
											<div class="col-md-7">
												<input type="text" ng-model="ctrl.user.telefono" id="fono"
													class="form-control input-sm" required="required" ng-pattern="ctrl.onlyNumbers" />
											</div>
										</div>
									</div>

									<div class="row">
										<div class="form-group col-md-12">
											<div class="form-actionst">
												<input type="submit" value="{{!ctrl.user.id ? 'Add' : 'Update'}}" class="btn btn-primary btn-sm" ng-disabled="myForm.$invalid || myForm.$pristine"/>
												<button type="button" ng-click="ctrl.reset()" class="btn btn-warning btn-sm" >Reset</button>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div class="">
						<!-- Default panel contents -->
						<div class="panel-body">
							<div class="table-responsive">
								<div class="form-group select-page-size-wrap ">
									<label>Registros por Pagina
									  <select class="form-control selectpicker show-tick" title="Registros por Pagina" selectpicker=""
									          ng-model="ctrl.smartTablePageSize" ng-options="i for i in [1,2,5,10,15,20,25]">
									  </select>
									</label>
								</div>
<!-- 								<div class="vertical-scroll"> -->
								<table class="table table-hover table-bordered" st-table='ctrl.smartData' st-safe-src='ctrl.rowCollection'>
									<thead>
										<tr>
											<th st-sort="rude" style='width:90px'>RUDE</th>
											<th st-sort="nombre" >Nombres</th>
											<th st-sort="ap" st-sort-default='true'>Apellidos</th>
											<th colspan='2' rowspan='2' style='width:150px'></th>
										</tr>
										<tr>
											<th>
												<div class='input-icon'>
													<i class='fa fa-search fa-lg'></i><input st-search='rude' class='form-control input-sm' type='search' />
												</div>
											</th>
											<th>
												<div class='input-icon'>
													<i class='fa fa-search fa-lg'></i><input st-search='nombre' class='form-control input-sm' type='search'/>
												</div>
											</th>
											<th>
												<div class='input-icon'>
													<i class='fa fa-search fa-lg'></i><input st-search='' class='form-control input-sm' type='search'/>
												</div>
											</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="u in ctrl.smartData">
											<td>{{u.rude}}</td>
											<td>{{u.nombre}}</td>
											<td>{{u.ap}} {{u.am}}</td>
											<td colspan='2' style='width:50px'><button type="button" ng-click="ctrl.editUser(u.id)" class="btn btn-success btn-sm">Editar</button>
											<button type="button" ng-click="ctrl.removeUser(u.id)" class="btn btn-danger btn-sm">Borrar</button>
											<button type="button" ng-click="ctrl.openInscripcion(u)" class="btn btn-default btn-sm">Inscribir</button></td>
										</tr>
									</tbody>
									<tfoot>
									    <tr>
									      <td colspan="6" class="text-center">
									        <div st-pagination="" st-items-by-page="ctrl.smartTablePageSize" st-displayed-pages="5"></div>
									      </td>
									    </tr>
								    </tfoot>
								</table>
<!-- 								</div> -->
							</div>
						</div>
					</div>
					<!-- /.col -->
				</div>
			</div>
		</div>
	</div>
</section>
<!-- /.content -->

